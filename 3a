%{
#include "y.tab.h"
%}

%%
[0-9]+      { yylval = atoi(yytext); return NUMBER; }
[\n]        { return '\n'; }
[+\-*/()]   { return yytext[0]; }
[ \t]       ;   /* Ignore spaces and tabs */
.           { printf("Invalid character: %s\n", yytext); }
%%
YACC Program (expr.y)
%{
#include <stdio.h>
#include <stdlib.h>
%}

%token NUMBER

%left '+' '-'
%left '*' '/'

%%
E : E '+' E     { printf("= %d\n", $1 + $3); }
  | E '-' E     { printf("= %d\n", $1 - $3); }
  | E '*' E     { printf("= %d\n", $1 * $3); }
  | E '/' E     {
                    if ($3 == 0)
                        printf("Error: Division by zero\n");
                    else
                        printf("= %d\n", $1 / $3);
                }
  | '(' E ')'   { $$ = $2; }
  | NUMBER      { $$ = $1; }
  ;
%%

int main() {
    printf("Enter an arithmetic expression:\n");
    yyparse();
    return 0;
}

int yyerror(char *msg) {
    printf("Invalid expression.\n");
    return 0;
}

‚öôÔ∏è Steps to Execute

Save files as expr.l and expr.y

Run these commands in terminal:

yacc -d expr.y
lex expr.l
gcc y.tab.c lex.yy.c -o expr
./expr

üßæ Sample Input / Output

Input:

3 + 5 * 2


Output:

= 13


Input:

10 / 0


Output:

Error: Division by zero
