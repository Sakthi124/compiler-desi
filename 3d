LEX Program (calc.l)
%{
#include "y.tab.h"
%}

%%
[0-9]+      { yylval = atoi(yytext); return NUMBER; }
[+\-*/()]   { return yytext[0]; }
\n          { return '\n'; }
[ \t]       ;   /* Ignore spaces and tabs */
.           { printf("Invalid character: %s\n", yytext); }
%%

üß© YACC Program (calc.y)
%{
#include <stdio.h>
#include <stdlib.h>
%}

%token NUMBER
%left '+' '-'
%left '*' '/'
%left '(' ')'

%%
input : /* empty */
      | input line
      ;

line  : expr '\n'   { printf("Result = %d\n", $1); }
      ;

expr  : expr '+' expr    { $$ = $1 + $3; }
      | expr '-' expr    { $$ = $1 - $3; }
      | expr '*' expr    { $$ = $1 * $3; }
      | expr '/' expr    {
                            if ($3 == 0)
                                printf("Error: Division by zero\n");
                            else
                                $$ = $1 / $3;
                         }
      | '(' expr ')'      { $$ = $2; }
      | NUMBER            { $$ = $1; }
      ;
%%

int main() {
    printf("Simple Calculator\n");
    printf("Enter expressions (Ctrl+C to exit):\n\n");
    yyparse();
    return 0;
}

int yyerror(char *msg) {
    printf("Invalid expression.\n");
    return 0;
}

‚öôÔ∏è Steps to Execute

Save the files as:

calc.l

calc.y

Run the following commands in terminal:

yacc -d calc.y
lex calc.l
gcc y.tab.c lex.yy.c -o calc
./calc

üßæ Sample Input / Output

Input:

3 + 5 * 2


Output:

Result = 13


Input:

(10 - 2) / 4


Output:

Result = 2


Input:

10 / 0


Output:

Error: Division by zero
