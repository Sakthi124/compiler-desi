LEX Program (tac.l)
%{
#include "y.tab.h"
%}

%%
[0-9]+              { yylval = atoi(yytext); return NUM; }
[a-zA-Z][a-zA-Z0-9]*{ return ID; }
[+\-*/=();]         { return yytext[0]; }
[ \t\n]             ;   /* ignore whitespace */
%%

üß© YACC Program (tac.y)
%{
#include <stdio.h>
#include <stdlib.h>
int tempVar = 1;

char* newTemp() {
    static char buf[10];
    sprintf(buf, "t%d", tempVar++);
    return strdup(buf);
}
%}

%token ID NUM

%left '+' '-'
%left '*' '/'

%%
S : ID '=' E ';'     { printf("\nThree Address Code:\n%s = %s\n", $1, $3); }
  ;

E : E '+' E           { 
                        char *t = newTemp();
                        printf("%s = %s + %s\n", t, $1, $3);
                        $$ = t;
                      }
  | E '-' E           { 
                        char *t = newTemp();
                        printf("%s = %s - %s\n", t, $1, $3);
                        $$ = t;
                      }
  | E '*' E           { 
                        char *t = newTemp();
                        printf("%s = %s * %s\n", t, $1, $3);
                        $$ = t;
                      }
  | E '/' E           { 
                        char *t = newTemp();
                        printf("%s = %s / %s\n", t, $1, $3);
                        $$ = t;
                      }
  | '(' E ')'         { $$ = $2; }
  | ID                { $$ = $1; }
  | NUM               { $$ = strdup(yytext); }
  ;
%%

int main() {
    printf("Enter a simple assignment statement (e.g., a = b + c * d;):\n");
    yyparse();
    return 0;
}

int yyerror(char *msg) {
    printf("Invalid expression.\n");
    return 0;
}

‚öôÔ∏è Steps to Execute

Save the files as:

tac.l

tac.y

In terminal, run:

yacc -d tac.y
lex tac.l
gcc y.tab.c lex.yy.c -o tac
./tac

üßæ Sample Input / Output

Input:

a = b + c * d;


Output:

t1 = c * d
t2 = b + t1

Three Address Code:
a = t2


Input:

x = (a + b) * (c - d);


Output:

t1 = a + b
t2 = c - d
t3 = t1 * t2

Three Address Code:
x = t3
